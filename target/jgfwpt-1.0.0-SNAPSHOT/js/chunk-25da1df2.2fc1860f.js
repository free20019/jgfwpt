(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25da1df2"],{"00cd":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tw-template-wrapper"},[a("el-form",{staticClass:"tw-query-bar",attrs:{inline:!0,model:t.query,size:"small"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"姓名"},model:{value:t.query.name,callback:function(e){t.$set(t.query,"name",e)},expression:"query.name"}})],1),a("el-form-item",[a("el-input",{attrs:{placeholder:"身份证号"},model:{value:t.query.idCard,callback:function(e){t.$set(t.query,"idCard",e)},expression:"query.idCard"}})],1),a("el-form-item",[a("el-select",{attrs:{placeholder:"区域"},model:{value:t.query.region,callback:function(e){t.$set(t.query,"region",e)},expression:"query.region"}},t._l(t.getRegion,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("el-autocomplete",{staticClass:"inline-input",attrs:{placeholder:"车牌号码","fetch-suggestions":t.queryVehicleSearch,"trigger-on-focus":!1},model:{value:t.query.vehicle,callback:function(e){t.$set(t.query,"vehicle",e)},expression:"query.vehicle"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleQueryClick}},[t._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:t.handleExportClick}},[t._v("导出")])],1)],1),a("div",{staticClass:"tw-query-panel"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table.loading,expression:"table.loading"}],staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:t.table.data,border:"",size:"small",height:"calc(100% - 42px)"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),a("el-table-column",{attrs:{prop:"CERTIFICATE_NUMBER",label:"身份证号",width:"160"}}),a("el-table-column",{attrs:{prop:"NAME",label:"姓名",width:"140"}}),a("el-table-column",{attrs:{prop:"COMPANY_NAME",label:"公司名称","min-width":"280"}}),a("el-table-column",{attrs:{prop:"COMPANY_LICENSE_NUMBER",label:"营运许可证号",width:"140"}}),a("el-table-column",{attrs:{prop:"SERVER_CARD_NUM",label:"服务证号",width:"160"}}),a("el-table-column",{attrs:{prop:"PLATE_NUMBER",label:"车牌号码",width:"120"}}),a("el-table-column",{attrs:{prop:"ZGZYXQZ",label:"资格证有效期止",width:"120"}}),a("el-table-column",{attrs:{prop:"ASSESS_SCORE",label:"分值",width:"100"}}),a("el-table-column",{attrs:{prop:"STATUS_NAME",label:"证照状态",width:"120"}}),a("el-table-column",{attrs:{label:"操作",width:"100",resizable:!1},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"tw-table-button",attrs:{type:"text",size:"mini",icon:"iconfont icon-search"},on:{click:function(a){return t.handleDetailsClick(e.row)}}})]}}])})],1),a("el-pagination",{attrs:{background:"","page-size":t.table.pageSize,"current-page":t.table.currentPage,total:t.table.total,layout:"prev, pager, next,total"},on:{"current-change":t.handleTablePageCurrentChange}})],1),a("el-dialog",{staticClass:"tw-dialog",attrs:{title:t.dialog.title,visible:t.dialog.display,width:"960"},on:{"update:visible":function(e){return t.$set(t.dialog,"display",e)}}},[a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("人员基本信息")]),a("el-form",{staticClass:"tw-query-bar",attrs:{inline:!0,model:t.dialog.personnelInfo,size:"small","label-width":"8em"}},[a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"姓名："}},[t._v(t._s(t.dialog.personnelInfo.NAME))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"身份证号："}},[t._v(t._s(t.dialog.personnelInfo.CERTIFICATE_NUMBER))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"驾龄："}},[t._v(t._s(t.dialog.personnelInfo.DRIVER_AGE))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"IC卡号："}},[t._v(t._s(t.dialog.personnelInfo.IC_NO))]),a("el-form-item",{staticClass:"tw-query-item tw-query-item__2",attrs:{label:"所在地市："}},[t._v(t._s(t.dialog.personnelInfo.AREA_NAME))]),a("el-form-item",{staticClass:"tw-query-item tw-query-item__2",attrs:{label:"公司名称："}},[t._v(t._s(t.dialog.personnelInfo.COMPANY_NAME))])],1)],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("证件基本信息")]),a("el-form",{staticClass:"tw-query-bar",attrs:{inline:!0,model:t.dialog.vehicleInfo,size:"small","label-width":"8em"}},[a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"车牌号码："}},[t._v(t._s(t.dialog.documentInfo.PLATE_NUMBER))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"资格证号："}},[t._v(t._s(t.dialog.documentInfo.SERVER_CARD_NUM))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"有效期起："}},[t._v(t._s(t.dialog.documentInfo.ZGZYXQQ))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"有效期止："}},[t._v(t._s(t.dialog.documentInfo.ZGZYXQZ))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"证件编号："}},[t._v(t._s(t.dialog.documentInfo.SERIAL_NUMBER))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"补换证次数："}},[t._v(t._s(t.dialog.documentInfo.REPLACEMENT_NUMBER))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"经营许可证："}},[t._v(t._s(t.dialog.documentInfo.COMPANY_LICENSE_NUMBER))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"上岗有效期起："}},[t._v(t._s(t.dialog.documentInfo.SGYXQQ))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"上岗有效期止："}},[t._v(t._s(t.dialog.documentInfo.SGYXQZ))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"服务监督卡："}},[t._v(t._s(t.dialog.documentInfo.SERVER_CARD_NUM))]),a("el-form-item",{staticClass:"tw-query-item",attrs:{label:"培训次数："}},[t._v(t._s(t.dialog.documentInfo.TRAIN_NUMBER))])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialog.display=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)},n=[],i=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("bd86")),l=a("17fb"),o=a.n(l),s=a("bc3a"),c=a.n(s),u=a("c1df"),f=a.n(u),d=a("2f62"),m=a("bbd5");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(a,!0).forEach((function(e){Object(i["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var g={name:"DriverInfo",data:function(){return{query:{vehicle:"",name:"",idCard:"",region:""},table:{loading:!1,data:[],pageSize:20,currentPage:1,total:0},dialog:{title:"详情",display:!1,personnelInfo:Object(i["a"])({gsmc:"",jszh:"",jial:"",szds:"",ickh:""},"gsmc",""),documentInfo:{cphm:"",zgzh:"",yxqq:"",yxqz:"",zjbh:"",bhzcs:"",jyxkz:"",sgyxqq:"",sgyxqz:"",fwjdk:"",fwyxqq:"",fwyxqz:"",bxcs:""}}}},mounted:function(){var t=this;this.$nextTick((function(){t.query.stime=Object(m["a"])(f()(),"YYYY-MM-DD 00:00:00"),t.query.etime=Object(m["a"])(f()(),"YYYY-MM-DD 23:59:59"),t.getDriverInformation()}))},computed:p({},Object(d["b"])(["getLPNumber","getRegion"]),{filterTableList:function(){var t=this.table,e=t.data,a=t.pageSize,r=t.currentPage,n=r-1;return o.a.filter(e,(function(t,e){return e>=n*a&&e<r*a}))}}),methods:{getDriverInformation:function(){var t=this;this.table.loading=!0;var e=this.query,a=e.vehicle,r=e.name,n=e.idCard,i=e.region,l=this.table,o=l.currentPage,s=l.pageSize;c.a.get("transportationDataAccess/getDriverInformation",{baseURL:this.baseURL,params:{vehiNo:a,name:r,idNumber:n,areaName:i,currentPage:o,pageSize:s}}).then((function(e){t.table.data=e.data.datas||[],t.table.total=e.data.count,t.table.loading=!1}))},queryVehicleSearch:function(t,e){t.legth<3?e=null:e(o.a.filter(this.getLPNumber,(function(e){return e.label.indexOf(t)>-1})))},handleQueryClick:function(){this.table.currentPage=1,this.getDriverInformation()},handleExportClick:function(){var t=this,e=this.query,a=e.vehicle,r=e.name,n=e.idCard,i=e.region;this.$confirm("是否需要导出?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then((function(){window.open("".concat(t.baseURL,"transportationDataAccess/getDriverInformationExcel?vehiNo=").concat(a,"&name=").concat(r,"&idNumber=").concat(n,"&areaName=").concat(i))})).catch((function(){}))},handleDetailsClick:function(t){var e;console.info("handleDetailsClick:",t),this.dialog.display=!0,this.dialog.personnelInfo={NAME:t.NAME,CERTIFICATE_NUMBER:t.CERTIFICATE_NUMBER,DRIVER_AGE:t.DRIVER_AGE,IC_NO:t.IC_NO,AREA_NAME:t.AREA_NAME,COMPANY_NAME:t.COMPANY_NAME},this.dialog.documentInfo=(e={PLATE_NUMBER:t.PLATE_NUMBER,CERTIFICATE_NUMBER:t.CERTIFICATE_NUMBER,ZGZYXQQ:t.ZGZYXQQ,ZGZYXQZ:t.ZGZYXQZ,SERIAL_NUMBER:t.SERIAL_NUMBER,REPLACEMENT_NUMBER:t.REPLACEMENT_NUMBER,COMPANY_LICENSE_NUMBER:t.COMPANY_LICENSE_NUMBER,SGYXQQ:t.SGYXQQ,SGYXQZ:t.SGYXQZ,SERVER_CARD_NUM:t.SERVER_CARD_NUM},Object(i["a"])(e,"ZGZYXQQ",t.ZGZYXQQ),Object(i["a"])(e,"ZGZYXQZ",t.ZGZYXQZ),Object(i["a"])(e,"TRAIN_NUMBER",t.TRAIN_NUMBER),e)},handleTablePageCurrentChange:function(t){this.table.currentPage=t,this.getDriverInformation()}}},E=g,_=(a("cf4d"),a("2877")),y=Object(_["a"])(E,r,n,!1,null,"7f3a0338",null);e["default"]=y.exports},"11e9":function(t,e,a){var r=a("52a7"),n=a("4630"),i=a("6821"),l=a("6a99"),o=a("69a8"),s=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=i(t),e=l(e,!0),s)try{return c(t,e)}catch(a){}if(o(t,e))return n(!r.f.call(t,e),t[e])}},"454f":function(t,e,a){a("46a7");var r=a("584a").Object;t.exports=function(t,e,a){return r.defineProperty(t,e,a)}},"456d":function(t,e,a){var r=a("4bf8"),n=a("0d58");a("5eda")("keys",(function(){return function(t){return n(r(t))}}))},"46a7":function(t,e,a){var r=a("63b6");r(r.S+r.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"5eda":function(t,e,a){var r=a("5ca1"),n=a("8378"),i=a("79e5");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],l={};l[t]=e(a),r(r.S+r.F*i((function(){a(1)})),"Object",l)}},"85f2":function(t,e,a){t.exports=a("454f")},8821:function(t,e,a){},"8e6e":function(t,e,a){var r=a("5ca1"),n=a("990b"),i=a("6821"),l=a("11e9"),o=a("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,r=i(t),s=l.f,c=n(r),u={},f=0;while(c.length>f)a=s(r,e=c[f++]),void 0!==a&&o(u,e,a);return u}})},9093:function(t,e,a){var r=a("ce10"),n=a("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"990b":function(t,e,a){var r=a("9093"),n=a("2621"),i=a("cb7c"),l=a("7726").Reflect;t.exports=l&&l.ownKeys||function(t){var e=r.f(i(t)),a=n.f;return a?e.concat(a(t)):e}},ac6a:function(t,e,a){for(var r=a("cadf"),n=a("0d58"),i=a("2aba"),l=a("7726"),o=a("32e9"),s=a("84f2"),c=a("2b4c"),u=c("iterator"),f=c("toStringTag"),d=s.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},b=n(m),p=0;p<b.length;p++){var g,E=b[p],_=m[E],y=l[E],h=y&&y.prototype;if(h&&(h[u]||o(h,u,d),h[f]||o(h,f,E),s[E]=d,_))for(g in r)h[g]||i(h,g,r[g],!0)}},bbd5:function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return o})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return c}));var r=a("c1df"),n=a.n(r);function i(t,e){return n()(t).format(e)}function l(t){return n()(t).format("YYYY-MM-DD")}function o(t){return n()(t).format("YYYY-MM-DD HH-mm-ss")}function s(t){return n()(t).format("YYYY-MM")}function c(t){return n()(t).format("YYYY")}},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var r=a("85f2"),n=a.n(r);function i(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},cf4d:function(t,e,a){"use strict";var r=a("8821"),n=a.n(r);n.a},f1ae:function(t,e,a){"use strict";var r=a("86cc"),n=a("4630");t.exports=function(t,e,a){e in t?r.f(t,e,n(0,a)):t[e]=a}}}]);
//# sourceMappingURL=chunk-25da1df2.2fc1860f.js.map