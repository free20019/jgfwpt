(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc7c6c52"],{"02f4":function(e,t,a){var n=a("4588"),l=a("be13");e.exports=function(e){return function(t,a){var i,o,r=String(l(t)),c=n(a),s=r.length;return c<0||c>=s?e?"":void 0:(i=r.charCodeAt(c),i<55296||i>56319||c+1===s||(o=r.charCodeAt(c+1))<56320||o>57343?e?r.charAt(c):i:e?r.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var n=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,a){"use strict";a("b0c5");var n=a("2aba"),l=a("32e9"),i=a("79e5"),o=a("be13"),r=a("2b4c"),c=a("520a"),s=r("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),p=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var d=r(e),g=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=g?!i((function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[s]=function(){return a}),a[d](""),!t})):void 0;if(!g||!f||"replace"===e&&!u||"split"===e&&!p){var h=/./[d],m=a(o,d,""[e],(function(e,t,a,n,l){return t.exec===c?g&&!l?{done:!0,value:h.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}})),b=m[0],v=m[1];n(String.prototype,e,b),l(RegExp.prototype,d,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"28a5":function(e,t,a){"use strict";var n=a("aae3"),l=a("cb7c"),i=a("ebd6"),o=a("0390"),r=a("9def"),c=a("5f1b"),s=a("520a"),u=a("79e5"),p=Math.min,d=[].push,g="split",f="length",h="lastIndex",m=4294967295,b=!u((function(){RegExp(m,"y")}));a("214f")("split",2,(function(e,t,a,u){var v;return v="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[f]||2!="ab"[g](/(?:ab)*/)[f]||4!="."[g](/(.?)(.?)/)[f]||"."[g](/()()/)[f]>1||""[g](/.?/)[f]?function(e,t){var l=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(l,e,t);var i,o,r,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=void 0===t?m:t>>>0,b=new RegExp(e.source,u+"g");while(i=s.call(b,l)){if(o=b[h],o>p&&(c.push(l.slice(p,i.index)),i[f]>1&&i.index<l[f]&&d.apply(c,i.slice(1)),r=i[0][f],p=o,c[f]>=g))break;b[h]===i.index&&b[h]++}return p===l[f]?!r&&b.test("")||c.push(""):c.push(l.slice(p)),c[f]>g?c.slice(0,g):c}:"0"[g](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var l=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,l,n):v.call(String(l),a,n)},function(e,t){var n=u(v,e,this,t,v!==a);if(n.done)return n.value;var s=l(e),d=String(this),g=i(s,RegExp),f=s.unicode,h=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(b?"y":"g"),y=new g(b?s:"^(?:"+s.source+")",h),x=void 0===t?m:t>>>0;if(0===x)return[];if(0===d.length)return null===c(y,d)?[d]:[];var w=0,R=0,k=[];while(R<d.length){y.lastIndex=b?R:0;var A,C=c(y,b?d:d.slice(R));if(null===C||(A=p(r(y.lastIndex+(b?0:R)),d.length))===w)R=o(d,R,f);else{if(k.push(d.slice(w,R)),k.length===x)return k;for(var E=1;E<=C.length-1;E++)if(k.push(C[E]),k.length===x)return k;R=w=A}}return k.push(d.slice(w)),k}]}))},3846:function(e,t,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"520a":function(e,t,a){"use strict";var n=a("0bfb"),l=RegExp.prototype.exec,i=String.prototype.replace,o=l,r="lastIndex",c=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e[r]||0!==t[r]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(o=function(e){var t,a,o,u,p=this;return s&&(a=new RegExp("^"+p.source+"$(?!\\s)",n.call(p))),c&&(t=p[r]),o=l.call(p,e),c&&o&&(p[r]=p.global?o.index+o[0].length:t),s&&o&&o.length>1&&i.call(o[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"59aa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tw-template-wrapper"},[a("div",{staticClass:"tw-template-body"},[a("div",{staticClass:"tw-map"},[a("el-amap",{ref:"map",attrs:{vid:"amap",center:e.map.center,zoom:e.map.zoom,plugin:e.map.plugin,events:e.map.events}},[e._l(e.map.polygons,(function(e,t){return[a("el-amap-polygon",{attrs:{vid:t,path:e.path,draggable:e.draggable,events:e.events}}),a("el-amap-text",{attrs:{text:e.title,position:e.position}})]}))],2)],1)]),a("div",{staticClass:"tw-template-footer"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.filterTableList,border:"",size:"small",height:"calc(100% - 52px)"},on:{"row-click":e.handleTableRowClick}},[a("el-table-column",{attrs:{resizable:!1,width:"60",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:e.handleTableAddClick}})]}},{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"text"},on:{click:function(a){return e.handleTableDeleteClick(t.row)}}})]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",resizable:!1}}),a("el-table-column",{attrs:{prop:"qymc",label:"区域名称",width:"280","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"qyfw",label:"区域范围",width:"180","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"qyms",label:"区域描述","min-width":"160",resizable:!1,"show-overflow-tooltip":""}})],1),a("el-pagination",{attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total,layout:"prev, pager, next,total"},on:{"current-change":e.handleTablePageCurrentChange}})],1),a("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.display,width:"800px"},on:{"update:visible":function(t){return e.$set(e.dialog,"display",t)},closed:e.handleDialogClosed}},[a("div",{staticClass:"tw-template-layout"},[a("div",{staticClass:"tw-template-left"},[a("el-form",{ref:"form",attrs:{model:e.dialog.form,size:"small","label-width":"80px"}},[a("el-form-item",{attrs:{label:"区域名称"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"区域名称"},model:{value:e.dialog.form.areaName,callback:function(t){e.$set(e.dialog.form,"areaName",t)},expression:"dialog.form.areaName"}})],1),a("el-form-item",{attrs:{label:"区域范围"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{readonly:"",placeholder:"区域范围"},on:{focus:e.handleIntervalFocus},model:{value:e.dialog.form.areaRange,callback:function(t){e.$set(e.dialog.form,"areaRange",t)},expression:"dialog.form.areaRange"}})],1),a("el-form-item",{attrs:{label:"区域描述"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"区域描述",type:"textarea"},model:{value:e.dialog.form.areaDesc,callback:function(t){e.$set(e.dialog.form,"areaDesc",t)},expression:"dialog.form.areaDesc"}})],1)],1)],1),a("div",{staticClass:"tw-template-body"},[a("el-amap",{ref:"dialog-map",attrs:{vid:"dialog-amap",center:e.dialog.map.center,zoom:e.dialog.map.zoom,plugin:e.dialog.map.plugin,events:e.dialog.map.events}},e._l(e.dialog.map.polygons,(function(e,t){return a("el-amap-polygon",{attrs:{vid:t,path:e.path,draggable:e.draggable,events:e.events}})})),1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialog.display=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogSaveClick}},[e._v("提 交")])],1)])],1)},l=[],i=(a("6b54"),a("28a5"),a("17fb")),o=a.n(i),r=a("bc3a"),c=a.n(r),s=(a("c1df"),{name:"ReturnAreaSetting",data:function(){var e=this;return{map:{center:[120.170076,30.277559],zoom:15,events:{},plugin:[],polygons:[],texts:[{position:[120.170972,30.280553],text:"hello world",offset:[0,0],events:{click:function(){alert("click text")}}}]},table:{loading:!1,data:[],pageSize:20,currentPage:1,total:0},dialog:{title:"",display:!1,map:{checked:!1,center:[120.170076,30.277559],zoom:14,polygons:[],events:{click:function(t){var a=e.dialog.map,n=a.checked,l=a.polygons;if(n){var i=t.lnglat,o=i.lng,r=i.lat;console.info("amap-click:",t,o,r),0===l.length&&e.dialog.map.polygons.push({draggable:!1,path:[],events:{}}),console.info("amap-click:",l.length),e.dialog.map.polygons[l.length-1].path.push([o,r])}},dblclick:function(t){var a=e.dialog.map.checked;a&&(e.dialog.map.checked=!1,e.dialog.form.areaRange=e.dialog.map.polygons[0].path.join(";"))}},plugin:[]},form:{areaName:"",areaRange:"",areaDesc:""}}}},mounted:function(){var e=this;this.$nextTick((function(){e.getArea()}))},computed:{filterTableList:function(){var e=this.table,t=e.data,a=e.pageSize,n=e.currentPage,l=n-1;return o.a.filter(t,(function(e,t){return t>=l*a&&t<n*a}))}},methods:{getArea:function(){var e=this;this.table.loading=!0,this.map.polygons=[],c.a.get("area/findarea",{baseURL:this.baseURL,params:{}}).then((function(t){console.log(t.data),e.table.data=o.a.map(t.data,(function(e){return{id:e.ID,qymc:e.AREA_NAME,qyfw:e.AREA_COORDINATES,qyms:e.AREA_DESCRIBE}})),o.a.each(t.data,(function(t){e.map.polygons.push({draggable:!1,path:[],events:{},position:[t.AREA_COORDINATES.split(";")[0].split(",")[0],t.AREA_COORDINATES.split(";")[0].split(",")[1]],title:t.AREA_NAME}),o.a.each(t.AREA_COORDINATES.split(";"),(function(t){e.map.polygons[e.map.polygons.length-1].path.push([t.split(",")[0],t.split(",")[1]])}))})),e.table.total=e.table.data.length,e.table.currentPage=1,e.table.loading=!1})).catch((function(e){console.log(e)}))},getAddArea:function(){var e=this,t=this.dialog.form,a=t.areaName,n=t.areaRange,l=t.areaDesc;if(""===a||""===n.toString()||""===l)return this.$message.error("请填写完整信息！"),!1;c.a.get("area/addarea",{baseURL:this.baseURL,params:{name:a,describe:l,coordinates:n,size:""}}).then((function(t){t.data>0?(e.$message({message:"操作成功!",type:"success"}),e.dialog.display=!1,e.getArea()):0===t.data?e.$message.error("操作失败！"):-1===t.data&&e.$message.error("该区域已添加！")})).catch((function(e){console.error(e)}))},getDeleteArea:function(e){var t=this;this.$confirm("是否删除?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then((function(){c.a.get("area/deletearea",{baseURL:t.baseURL,params:{id:e.id}}).then((function(e){e.data>0?(t.$message({message:"操作成功!",type:"success"}),t.getArea()):t.$message.error("操作失败！")})).catch((function(e){console.error(e)}))})).catch((function(){}))},handleQueryClick:function(){},handleTableRowClick:function(e){var t=this;this.map.polygons=[],this.map.zoom=15,this.map.center=[e.qyfw.split(";")[0].split(",")[0],e.qyfw.split(";")[0].split(",")[1]],this.map.polygons.push({draggable:!1,path:[],events:{},position:[e.qyfw.split(";")[0].split(",")[0],e.qyfw.split(";")[0].split(",")[1]],title:e.qymc}),o.a.each(e.qyfw.split(";"),(function(e){t.map.polygons[t.map.polygons.length-1].path.push([e.split(",")[0],e.split(",")[1]])}))},handleTableAddClick:function(){this.dialog.title="添加回场",this.dialog.display=!0},handleTableDeleteClick:function(e){this.getDeleteArea(e)},handleDialogSaveClick:function(){this.getAddArea()},handleDialogClosed:function(){this.dialog.title="",this.dialog.form.areaName="",this.dialog.form.areaRange="",this.dialog.form.areaDesc="",this.dialog.map.polygons=[]},handleIntervalFocus:function(){this.dialog.map.checked=!0},handleTablePageCurrentChange:function(e){this.table.currentPage=e}}}),u=s,p=(a("8f2d"),a("2877")),d=Object(p["a"])(u,n,l,!1,null,"cc15bd54",null);t["default"]=d.exports},"5f1b":function(e,t,a){"use strict";var n=a("23c6"),l=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var i=a.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return l.call(e,t)}},"6b54":function(e,t,a){"use strict";a("3846");var n=a("cb7c"),l=a("0bfb"),i=a("9e1e"),o="toString",r=/./[o],c=function(e){a("2aba")(RegExp.prototype,o,e,!0)};a("79e5")((function(){return"/a/b"!=r.call({source:"a",flags:"b"})}))?c((function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?l.call(e):void 0)})):r.name!=o&&c((function(){return r.call(this)}))},"6c1f":function(e,t,a){},"8f2d":function(e,t,a){"use strict";var n=a("6c1f"),l=a.n(n);l.a},aae3:function(e,t,a){var n=a("d3f4"),l=a("2d95"),i=a("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==l(e))}},b0c5:function(e,t,a){"use strict";var n=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})}}]);
//# sourceMappingURL=chunk-cc7c6c52.3098e008.js.map