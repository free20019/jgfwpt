(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52d75c0a"],{"02f4":function(e,t,n){var a=n("4588"),r=n("be13");e.exports=function(e){return function(t,n){var i,o,l=String(r(t)),c=a(n),s=l.length;return c<0||c>=s?e?"":void 0:(i=l.charCodeAt(c),i<55296||i>56319||c+1===s||(o=l.charCodeAt(c+1))<56320||o>57343?e?l.charAt(c):i:e?l.slice(c,c+2):o-56320+(i-55296<<10)+65536)}}},"0390":function(e,t,n){"use strict";var a=n("02f4")(!0);e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},"0bfb":function(e,t,n){"use strict";var a=n("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"11e9":function(e,t,n){var a=n("52a7"),r=n("4630"),i=n("6821"),o=n("6a99"),l=n("69a8"),c=n("c69a"),s=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?s:function(e,t){if(e=i(e),t=o(t,!0),c)try{return s(e,t)}catch(n){}if(l(e,t))return r(!a.f.call(e,t),e[t])}},"214f":function(e,t,n){"use strict";n("b0c5");var a=n("2aba"),r=n("32e9"),i=n("79e5"),o=n("be13"),l=n("2b4c"),c=n("520a"),s=l("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=l(e),g=!i((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=g?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[s]=function(){return n}),n[d](""),!t})):void 0;if(!g||!p||"replace"===e&&!u||"split"===e&&!f){var h=/./[d],m=n(o,d,""[e],(function(e,t,n,a,r){return t.exec===c?g&&!r?{done:!0,value:h.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}})),b=m[0],v=m[1];a(String.prototype,e,b),r(RegExp.prototype,d,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"28a5":function(e,t,n){"use strict";var a=n("aae3"),r=n("cb7c"),i=n("ebd6"),o=n("0390"),l=n("9def"),c=n("5f1b"),s=n("520a"),u=n("79e5"),f=Math.min,d=[].push,g="split",p="length",h="lastIndex",m=4294967295,b=!u((function(){RegExp(m,"y")}));n("214f")("split",2,(function(e,t,n,u){var v;return v="c"=="abbc"[g](/(b)*/)[1]||4!="test"[g](/(?:)/,-1)[p]||2!="ab"[g](/(?:ab)*/)[p]||4!="."[g](/(.?)(.?)/)[p]||"."[g](/()()/)[p]>1||""[g](/.?/)[p]?function(e,t){var r=String(this);if(void 0===e&&0===t)return[];if(!a(e))return n.call(r,e,t);var i,o,l,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=void 0===t?m:t>>>0,b=new RegExp(e.source,u+"g");while(i=s.call(b,r)){if(o=b[h],o>f&&(c.push(r.slice(f,i.index)),i[p]>1&&i.index<r[p]&&d.apply(c,i.slice(1)),l=i[0][p],f=o,c[p]>=g))break;b[h]===i.index&&b[h]++}return f===r[p]?!l&&b.test("")||c.push(""):c.push(r.slice(f)),c[p]>g?c.slice(0,g):c}:"0"[g](void 0,0)[p]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,a){var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):v.call(String(r),n,a)},function(e,t){var a=u(v,e,this,t,v!==n);if(a.done)return a.value;var s=r(e),d=String(this),g=i(s,RegExp),p=s.unicode,h=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(b?"y":"g"),y=new g(b?s:"^(?:"+s.source+")",h),x=void 0===t?m:t>>>0;if(0===x)return[];if(0===d.length)return null===c(y,d)?[d]:[];var S=0,w=0,k=[];while(w<d.length){y.lastIndex=b?w:0;var A,P=c(y,b?d:d.slice(w));if(null===P||(A=f(l(y.lastIndex+(b?0:w)),d.length))===S)w=o(d,w,p);else{if(k.push(d.slice(S,w)),k.length===x)return k;for(var O=1;O<=P.length-1;O++)if(k.push(P[O]),k.length===x)return k;w=S=A}}return k.push(d.slice(S)),k}]}))},3846:function(e,t,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"454f":function(e,t,n){n("46a7");var a=n("584a").Object;e.exports=function(e,t,n){return a.defineProperty(e,t,n)}},"456d":function(e,t,n){var a=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(e){return r(a(e))}}))},"46a7":function(e,t,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"520a":function(e,t,n){"use strict";var a=n("0bfb"),r=RegExp.prototype.exec,i=String.prototype.replace,o=r,l="lastIndex",c=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e[l]||0!==t[l]}(),s=void 0!==/()??/.exec("")[1],u=c||s;u&&(o=function(e){var t,n,o,u,f=this;return s&&(n=new RegExp("^"+f.source+"$(?!\\s)",a.call(f))),c&&(t=f[l]),o=r.call(f,e),c&&o&&(f[l]=f.global?o.index+o[0].length:t),s&&o&&o.length>1&&i.call(o[0],n,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o}),e.exports=o},"5eda":function(e,t,n){var a=n("5ca1"),r=n("8378"),i=n("79e5");e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),a(a.S+a.F*i((function(){n(1)})),"Object",o)}},"5f1b":function(e,t,n){"use strict";var a=n("23c6"),r=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var i=n.call(e,t);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"6b54":function(e,t,n){"use strict";n("3846");var a=n("cb7c"),r=n("0bfb"),i=n("9e1e"),o="toString",l=/./[o],c=function(e){n("2aba")(RegExp.prototype,o,e,!0)};n("79e5")((function(){return"/a/b"!=l.call({source:"a",flags:"b"})}))?c((function(){var e=a(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?r.call(e):void 0)})):l.name!=o&&c((function(){return l.call(this)}))},"85f2":function(e,t,n){e.exports=n("454f")},"8e6e":function(e,t,n){var a=n("5ca1"),r=n("990b"),i=n("6821"),o=n("11e9"),l=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(e){var t,n,a=i(e),c=o.f,s=r(a),u={},f=0;while(s.length>f)n=c(a,t=s[f++]),void 0!==n&&l(u,t,n);return u}})},9093:function(e,t,n){var a=n("ce10"),r=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return a(e,r)}},"990b":function(e,t,n){var a=n("9093"),r=n("2621"),i=n("cb7c"),o=n("7726").Reflect;e.exports=o&&o.ownKeys||function(e){var t=a.f(i(e)),n=r.f;return n?t.concat(n(e)):t}},a481:function(e,t,n){"use strict";var a=n("cb7c"),r=n("4bf8"),i=n("9def"),o=n("4588"),l=n("0390"),c=n("5f1b"),s=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,g=/\$([$&`']|\d\d?)/g,p=function(e){return void 0===e?e:String(e)};n("214f")("replace",2,(function(e,t,n,h){return[function(a,r){var i=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,i,r):n.call(String(i),a,r)},function(e,t){var r=h(n,e,this,t);if(r.done)return r.value;var f=a(e),d=String(this),g="function"===typeof t;g||(t=String(t));var b=f.global;if(b){var v=f.unicode;f.lastIndex=0}var y=[];while(1){var x=c(f,d);if(null===x)break;if(y.push(x),!b)break;var S=String(x[0]);""===S&&(f.lastIndex=l(d,i(f.lastIndex),v))}for(var w="",k=0,A=0;A<y.length;A++){x=y[A];for(var P=String(x[0]),O=s(u(o(x.index),d.length),0),M=[],C=1;C<x.length;C++)M.push(p(x[C]));var E=x.groups;if(g){var L=[P].concat(M,O,d);void 0!==E&&L.push(E);var R=String(t.apply(void 0,L))}else R=m(P,d,O,M,E,t);O>=k&&(w+=d.slice(k,O)+R,k=O+P.length)}return w+d.slice(k)}];function m(e,t,a,i,o,l){var c=a+e.length,s=i.length,u=g;return void 0!==o&&(o=r(o),u=d),n.call(l,u,(function(n,r){var l;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(c);case"<":l=o[r.slice(1,-1)];break;default:var u=+r;if(0===u)return n;if(u>s){var d=f(u/10);return 0===d?n:d<=s?void 0===i[d-1]?r.charAt(1):i[d-1]+r.charAt(1):n}l=i[u-1]}return void 0===l?"":l}))}}))},aae3:function(e,t,n){var a=n("d3f4"),r=n("2d95"),i=n("2b4c")("match");e.exports=function(e){var t;return a(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==r(e))}},ac6a:function(e,t,n){for(var a=n("cadf"),r=n("0d58"),i=n("2aba"),o=n("7726"),l=n("32e9"),c=n("84f2"),s=n("2b4c"),u=s("iterator"),f=s("toStringTag"),d=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(g),h=0;h<p.length;h++){var m,b=p[h],v=g[b],y=o[b],x=y&&y.prototype;if(x&&(x[u]||l(x,u,d),x[f]||l(x,f,b),c[b]=d,v))for(m in a)x[m]||i(x,m,a[m],!0)}},b0c5:function(e,t,n){"use strict";var a=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},bd86:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("85f2"),r=n.n(a);function i(e,t,n){return t in e?r()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},e096:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tw-template-wrapper"},[n("el-form",{staticClass:"tw-query-bar",attrs:{inline:!0,model:e.query,size:"small"}},[n("el-form-item",[n("el-input",{attrs:{placeholder:"filter"},on:{input:function(t){return e.handleFilterClick()}},model:{value:e.query.filter,callback:function(t){e.$set(e.query,"filter",t)},expression:"query.filter"}})],1)],1),n("div",{staticClass:"tw-query-panel"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.table.loading,expression:"table.loading"}],staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.filterTableList,border:"",size:"small",height:"calc(100% - 42px)"}},[n("el-table-column",{attrs:{type:"index",label:"序号",width:"60",resizable:!1,fixed:""}}),n("el-table-column",{attrs:{prop:"COMPANY_NAME",label:"公司名称",width:"280",fixed:"","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"MANAGE_PERSON",label:"管理员",width:"180","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"MANAGE_PHONE",label:"联系电话",width:"150"}}),n("el-table-column",{attrs:{prop:"REMARKS",label:"备注","min-width":"160",resizable:!1,"show-overflow-tooltip":""}}),n("el-table-column",{attrs:{resizable:!1,width:"100",align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[n("el-button",{attrs:{size:"mini",icon:"el-icon-plus"},on:{click:e.handleTableAddClick}})]}},{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini",icon:"el-icon-edit",type:"text"},on:{click:function(n){return e.handleTableEditClick(t.row)}}}),n("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"text"},on:{click:function(n){return e.handleTableDeleteClick(t.row)}}})]}}])})],1),n("el-pagination",{attrs:{background:"","page-size":e.table.pageSize,"current-page":e.table.currentPage,total:e.table.total,layout:"prev, pager, next, total"},on:{"current-change":e.handleTablePageCurrentChange}})],1),n("el-dialog",{attrs:{title:e.dialog.title,visible:e.dialog.display,width:"400px"},on:{"update:visible":function(t){return e.$set(e.dialog,"display",t)},closed:e.handleDialogClosed}},[n("el-form",{ref:"form",attrs:{model:e.dialog.form,size:"small","label-width":"80px"}},[n("el-form-item",{attrs:{label:"公司名称"}},[n("tree-select",{staticClass:"tw-tree-select tw-line",staticStyle:{width:"260px"},attrs:{multiple:!0,options:e.filterCompanyName,placeholder:"公司名称"},model:{value:e.dialog.form.companyName,callback:function(t){e.$set(e.dialog.form,"companyName",t)},expression:"dialog.form.companyName"}})],1),n("el-form-item",{attrs:{label:"管理员"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"管理员,管理员,管理员..."},model:{value:e.dialog.form.manager,callback:function(t){e.$set(e.dialog.form,"manager",t)},expression:"dialog.form.manager"}})],1),n("el-form-item",{attrs:{label:"联系电话"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{placeholder:"联系电话,联系电话,联系电话..."},model:{value:e.dialog.form.phone,callback:function(t){e.$set(e.dialog.form,"phone",t)},expression:"dialog.form.phone"}})],1),n("el-form-item",{attrs:{label:"备注"}},[n("el-input",{staticStyle:{width:"260px"},attrs:{type:"textarea",placeholder:"备注"},model:{value:e.dialog.form.remarks,callback:function(t){e.$set(e.dialog.form,"remarks",t)},expression:"dialog.form.remarks"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialog.display=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogSaveClick}},[e._v("提 交")])],1)],1)],1)},r=[],i=(n("8e6e"),n("ac6a"),n("456d"),n("a481"),n("28a5"),n("6b54"),n("bd86")),o=n("17fb"),l=n.n(o),c=n("bc3a"),s=n.n(c),u=n("7026"),f=n.n(u),d=n("2f62");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"AdministratorPhoneManagement.vue",data:function(){return{query:{filter:""},table:{loading:!1,selectItem:{},data:[],all:[],pageSize:20,currentPage:1,total:0},dialog:{title:"",display:!1,form:{companyName:[],manager:"",phone:"",remarks:""}}}},mounted:function(){var e=this;this.$nextTick((function(){e.getAdministratorPhoneManagement()}))},computed:p({},Object(d["b"])(["getAllCompanyName"]),{filterTableList:function(){var e=this.table,t=e.data,n=e.pageSize,a=e.currentPage,r=a-1;return l.a.filter(t,(function(e,t){return t>=r*n&&t<a*n}))},filterCompanyName:function(){return l.a.map(l.a.filter(this.getAllCompanyName,(function(e){return e.label})),(function(e){return{id:e.label,label:e.label}}))}}),methods:{getAdministratorPhoneManagement:function(){var e=this;this.table.loading=!0,s.a.get("terminal/administratorPhoneManagement",{baseURL:this.baseURL,params:{}}).then((function(t){console.log(t.data),e.table.data=t.data||[],e.table.all=t.data||[],e.table.total=e.table.data.length,e.table.currentPage=1,e.table.loading=!1,e.handleFilterClick()})).catch((function(e){console.log(e)}))},getAddAdministratorPhoneManagement:function(){var e=this,t=this.dialog.form,n=t.companyName,a=t.manager,r=t.phone,i=t.remarks;if(""===n.toString()||""===a||""===r)return this.$message.error("请填写完整信息（公司，管理员，联系电话）！"),!1;if(a.replace(/，/g,",").split(",").length!==r.replace(/，/g,",").split(",").length)return this.$message.error("管理员和联系电话数量需一致(逗号分割)！"),!1;for(var o=/^(0|86|17951)?(13[0-9]|15[012356789]|17[01678]|18[0-9]|14[57])[0-9]{8}$/,l=r.replace(/，/g,",").split(","),c=0;c<l.length;c++)if(!o.test(l[c]))return this.$message.error("请填写正确手机号码！"),!1;s.a.get("terminal/addAdministratorPhoneManagement",{baseURL:this.baseURL,params:{company:n.toString(),manager:a.replace(/，/g,","),phone:r.replace(/，/g,","),remarks:i}}).then((function(t){t.data>0?(e.$message({message:"操作成功!",type:"success"}),e.dialog.display=!1,e.getAdministratorPhoneManagement()):e.$message.error("操作失败！")})).catch((function(e){console.error(e)}))},getUpdateAdministratorPhoneManagement:function(){var e=this,t=this.dialog.form,n=t.companyName,a=t.manager,r=t.phone,i=t.remarks;if(""===n.toString()||""===a||""===r)return this.$message.error("请填写完整信息（公司，管理员，联系电话）！"),!1;if(a.replace(/，/g,",").split(",").length!==r.replace(/，/g,",").split(",").length)return this.$message.error("管理员和联系电话数量需一致！"),!1;for(var o=/^(0|86|17951)?(13[0-9]|15[012356789]|17[01678]|18[0-9]|14[57])[0-9]{8}$/,l=r.replace(/，/g,",").split(","),c=0;c<l.length;c++)if(!o.test(l[c]))return this.$message.error("请填写正确手机号码！"),!1;var u=this.table.selectItem;s.a.get("terminal/updateAdministratorPhoneManagement",{baseURL:this.baseURL,params:{id:u.ID,company:n.toString(),manager:a.replace(/，/g,","),phone:r.replace(/，/g,","),remarks:i}}).then((function(t){t.data>0?(e.$message({message:"操作成功!",type:"success"}),e.dialog.display=!1,e.getAdministratorPhoneManagement()):e.$message.error("操作失败！")})).catch((function(e){console.error(e)}))},handleFilterClick:function(){var e=this.query.filter;this.table.data=l.a.filter(this.table.all,(function(t){return t.COMPANY_NAME.indexOf(e)>-1||t.MANAGE_PERSON.indexOf(e)>-1||t.MANAGE_PHONE.indexOf(e)>-1||t.REMARKS.indexOf(e)>-1})),this.table.total=this.table.data.length,this.table.currentPage=1},handleTableAddClick:function(){this.dialog.title="添加",this.dialog.display=!0},handleTableEditClick:function(e){this.dialog.title="修改",this.dialog.display=!0,this.table.selectItem=e,this.dialog.form.companyName=e.COMPANY_NAME.split(","),this.dialog.form.manager=e.MANAGE_PERSON,this.dialog.form.phone=e.MANAGE_PHONE,this.dialog.form.remarks=e.REMARKS},handleTableDeleteClick:function(e){var t=this;this.$confirm("是否删除?","提示",{confirmButtonText:"是",cancelButtonText:"否",cancelButtonClass:"el-button--danger",closeOnClickModal:!1,type:"info",center:!0}).then((function(){s.a.get("terminal/deleteAdministratorPhoneManagement",{baseURL:t.baseURL,params:{id:e.ID}}).then((function(e){e.data>0?(t.$message({message:"操作成功!",type:"success"}),t.getAdministratorPhoneManagement()):t.$message.error("操作失败！")})).catch((function(e){console.error(e)}))}))},handleDialogSaveClick:function(){"修改"===this.dialog.title?this.getUpdateAdministratorPhoneManagement():"添加"===this.dialog.title&&this.getAddAdministratorPhoneManagement()},handleDialogClosed:function(){this.dialog.title="",this.dialog.form.companyName=[],this.dialog.form.manager="",this.dialog.form.phone="",this.dialog.form.remarks="",this.table.selectItem={}},handleTablePageCurrentChange:function(e){this.table.currentPage=e}},components:{"tree-select":f.a}},m=h,b=n("2877"),v=Object(b["a"])(m,a,r,!1,null,"34647d18",null);t["default"]=v.exports},f1ae:function(e,t,n){"use strict";var a=n("86cc"),r=n("4630");e.exports=function(e,t,n){t in e?a.f(e,t,r(0,n)):e[t]=n}}}]);
//# sourceMappingURL=chunk-52d75c0a.c486050c.js.map